<% if (totalPages > 1) { %>
    <nav aria-label="Page navigation" class="pagination-container">
        <ul class="pagination justify-content-center">
            <%# Previous Page %>
            <li class="page-item <%= currentPage === 1 ? 'disabled' : '' %>">
                <a class="page-link" href="?page=<%= currentPage - 1 %>" aria-label="Previous">
                    <i class="fas fa-chevron-left"></i>
                </a>
            </li>

            <%# First Page %>
            <% if (currentPage > 3) { %>
                <li class="page-item">
                    <a class="page-link" href="?page=1">1</a>
                </li>
                <% if (currentPage > 4) { %>
                    <li class="page-item disabled">
                        <span class="page-link">...</span>
                    </li>
                <% } %>
            <% } %>

            <%# Page Numbers %>
            <% for(let i = Math.max(1, currentPage - 2); i <= Math.min(totalPages, currentPage + 2); i++) { %>
                <li class="page-item <%= i === currentPage ? 'active' : '' %>">
                    <a class="page-link" href="?page=<%= i %>"><%= i %></a>
                </li>
            <% } %>

            <%# Last Page %>
            <% if (currentPage < totalPages - 2) { %>
                <% if (currentPage < totalPages - 3) { %>
                    <li class="page-item disabled">
                        <span class="page-link">...</span>
                    </li>
                <% } %>
                <li class="page-item">
                    <a class="page-link" href="?page=<%= totalPages %>"><%= totalPages %></a>
                </li>
            <% } %>

            <%# Next Page %>
            <li class="page-item <%= currentPage === totalPages ? 'disabled' : '' %>">
                <a class="page-link" href="?page=<%= currentPage + 1 %>" aria-label="Next">
                    <i class="fas fa-chevron-right"></i>
                </a>
            </li>
        </ul>
    </nav>
<% } %> 